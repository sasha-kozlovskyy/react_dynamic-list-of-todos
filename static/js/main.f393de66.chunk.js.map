{"version":3,"sources":["components/TodoList/TodoList.jsx","components/CurrentUser/CurrentUser.jsx","api/api.js","App.jsx","index.js"],"names":["TodoList","state","query","select","onChangeInput","event","setState","target","value","onChangeSelect","filterList","todos","length","filter","todo","title","toLowerCase","includes","selectUser","this","props","filteredTodos","completed","className","type","placeholder","id","onChange","name","map","key","defaultChecked","onClick","userId","React","Component","CurrentUser","currentUser","clearSelect","email","phone","BASE_URL","App","selectedUserId","fetch","then","response","json","serverResponse","data","prevstate","users","find","user","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f393de66.chunk.js","sourcesContent":["import React from 'react';\nimport './TodoList.scss';\nimport PropTypes from 'prop-types';\n\nexport class TodoList extends React.Component {\n  state = {\n    query: '',\n    select: 'All',\n  }\n\n  onChangeInput = (event) => {\n    this.setState({\n      query: event.target.value,\n    });\n  }\n\n  onChangeSelect = (event) => {\n    this.setState({\n      select: event.target.value,\n    });\n  }\n\n  filterList = todos => (\n    this.state.query.length > 0\n      ? todos.filter(\n        (todo) => {\n          if (todo.title === null) {\n            return false;\n          }\n\n          return todo.title.toLowerCase()\n            .includes(this.state.query.toLowerCase());\n        },\n      )\n      : todos\n  )\n\n  render() {\n    const { selectUser } = this.props;\n    let filteredTodos = this.filterList(this.props.todos);\n\n    if (this.state.select !== 'All') {\n      filteredTodos = filteredTodos.filter(todo => (\n        this.state.select === 'Completed'\n          ? todo.completed\n          : !todo.completed\n      ));\n    }\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n        <input\n          type=\"text\"\n          placeholder=\"Search todo\"\n          id=\"search-query\"\n          value={this.state.query}\n          onChange={this.onChangeInput}\n        />\n        <select\n          className=\"select\"\n          name=\"select\"\n          id=\"select\"\n          onChange={this.onChangeSelect}\n        >\n          <option\n            value=\"All\"\n          >\n            All\n          </option>\n          <option\n            value=\"Completed\"\n          >\n            Completed\n          </option>\n          <option\n            value=\"Active\"\n          >\n            Active\n          </option>\n        </select>\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {filteredTodos.map(todo => (\n              <li\n                key={todo.id}\n                className={\n                  `TodoList__item\n                  TodoList__item--${todo.completed ? 'checked' : 'unchecked'}`}\n              >\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    defaultChecked={todo.completed}\n                  />\n                  <p>{todo.title}</p>\n                </label>\n                <button\n                  className=\"\n                    TodoList__user-button\n                    TodoList__user-button--selected\n                    button\n                  \"\n                  type=\"button\"\n                  onClick={() => {\n                    selectUser(todo.userId);\n                  }}\n                >\n                  User&nbsp;\n                  {todo.userId}\n                </button>\n              </li>\n            ))\n          }\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  selectUser: PropTypes.func.isRequired,\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired,\n      user: PropTypes.shape({\n        name: PropTypes.string.isRequired,\n      }).isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n","import React from 'react';\nimport './CurrentUser.scss';\nimport PropTypes from 'prop-types';\n\nexport const CurrentUser = ({ userId, currentUser, clearSelect }) => (\n\n  <div className=\"CurrentUser\">\n    <h2 className=\"CurrentUser__title\">\n      <span>\n        Selected user:&nbsp;\n        {userId}\n      </span>\n    </h2>\n    {currentUser && (\n      <>\n        <h3 className=\"CurrentUser__name\">{currentUser.name}</h3>\n        <p className=\"CurrentUser__email\">{currentUser.email}</p>\n        <p className=\"CurrentUser__phone\">{currentUser.phone}</p>\n      </>\n    )}\n    <button\n      type=\"button\"\n      onClick={clearSelect}\n    >\n      Clear\n    </button>\n  </div>\n);\n\nCurrentUser.propTypes = {\n  userId: PropTypes.number.isRequired,\n  clearSelect: PropTypes.func.isRequired,\n  currentUser: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    email: PropTypes.string.isRequired,\n    phone: PropTypes.string.isRequired,\n  }).isRequired,\n};\n","const BASE_URL = 'https://mate-api.herokuapp.com';\n\nexport const getTodos = () => fetch(`${BASE_URL}/todos`)\n  .then(response => response.json())\n  .then(serverResponse => serverResponse.data || serverResponse);\n\nexport const getUsers = () => fetch(`${BASE_URL}/users`)\n  .then(response => response.json())\n  .then(serverResponse => serverResponse.data || serverResponse);\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos, getUsers } from './api';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n    currentUser: null,\n  };\n\n  componentDidMount() {\n    getTodos()\n      .then((todos) => {\n        this.setState({\n          todos,\n        });\n      });\n  }\n\n  componentDidUpdate(prevstate) {\n    if (prevstate.selectedUserId !== this.state.selectedUserId) {\n      getUsers()\n        .then((users) => {\n          this.setState(state => ({\n            currentUser: users.find(user => user.id === state.selectedUserId),\n          }));\n        });\n    }\n  }\n\n  selectUser = (userId) => {\n    this.setState({\n      selectedUserId: userId,\n    });\n  }\n\n  clearSelect = () => {\n    this.setState({\n      selectedUserId: 0,\n    });\n  }\n\n  render() {\n    const { todos, selectedUserId, currentUser } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            selectUser={this.selectUser}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                currentUser={currentUser}\n                clearSelect={this.clearSelect}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}